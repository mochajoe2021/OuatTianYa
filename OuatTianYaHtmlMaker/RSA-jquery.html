<!doctype html>
<html>
  <head>
    <title>JavaScript RSA Encryption</title>
     <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
 
	 <script src="https://cdn.jsdelivr.net/npm/jsencrypt@2.3.1/bin/jsencrypt.min.js">
	 </script>
	 
    <script type="text/javascript">

      // Call this code when the page is done loading.
      $(function() {

        // Run a quick encryption/decryption when they click.
        $('#testme').click(function() {

          // Encrypt with the public key...
          var encrypt = new JSEncrypt();
          encrypt.setPublicKey($('#pubkey').val());
          var encrypted = encrypt.encrypt($('#input').val());

          // Decrypt with the private key...
          var decrypt = new JSEncrypt();
          decrypt.setPrivateKey($('#privkey').val());
          var uncrypted = decrypt.decrypt(encrypted);

          // Now a simple check to see if the round-trip worked.
          if (uncrypted == $('#input').val()) {
            alert('Rsa加密解密工作正常。');
			alert(encrypted);
			alert(uncrypted);
          }
          else {
            alert('Something went wrong....');
          }
        });
      });
    </script>
  </head>
  <body>
    <label for="privkey">Private Key</label><br/>
    <textarea id="privkey" rows="15" cols="65">-----BEGIN RSA PRIVATE KEY-----
MIICXQIBAAKBgQCnzr1LEtftaSRvla9b9y0r2/uZ/UXVpET4BCN9vZKaD2FILAHa
IotpfAdRf+lYDa29jiQ2YE8G4f3WveP5kSzbHAhaEmAAYuvasOin38/JayLpVQ+R
7RIxiak2m2ky1Sl4hWSK78POTfb9JvonW8LTjtrKHX7xKo4EXYVjFBnZFwIDAQAB
AoGAXpMeDFmqaJuBdYIfOu2r/7QTsU4VNbtHQ6DRf+R/42QXp91ljdM6T1Efrscw
c/gBm3uo3RyabX6g2Y5cFiPD6y/QCZruVm64LMwP7VhMS7kZa+POX5fapWyT61hV
M7zf4jutPYEqsM65tuW8bOUqRm40Ioy/DRzuH1rqwciClkECQQDSyNpK9sl7IG+b
3/EI3VsODeYFmfvjq5Q8AAJ51Hkl/NSFfCGesUwyFio79532zoNS99MG0GGA25Oh
XJFeZJeVAkEAy83SiofBp6baqwqlJoCgHitS10oXhLM0vDambxep3g7Cv4mIbwMw
7J6i54yVBvocRsq6wYD4fG39HskVql3S+wJBAI7v+WgAdpzyX/0aHX/fa9HaBvQh
ebjoL3uIniUzunvSOePTS5Ertfn5IebMgehOHqvytr3WLWiOfkxcU4/pMwkCQQDB
JzCDWmaPHfPgZxZeh0k5TpYUtIPVoII6XxEd+K9lZVftb8t+aufTWgXKrdIP6rsh
3MFi43iddSCQLMP70zBBAkASN682crHzlPN+q+J88ge9MFiz/xUZMffcv/R3xfWh
Vzws3/+HPt9PmOlUyIP0T5qi4gqXSYsxwm9MmKW+tBXx
-----END RSA PRIVATE KEY-----</textarea><br/>
    <label for="pubkey">Public Key</label><br/>
    <textarea id="pubkey" rows="15" cols="65">-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCnzr1LEtftaSRvla9b9y0r2/uZ
/UXVpET4BCN9vZKaD2FILAHaIotpfAdRf+lYDa29jiQ2YE8G4f3WveP5kSzbHAha
EmAAYuvasOin38/JayLpVQ+R7RIxiak2m2ky1Sl4hWSK78POTfb9JvonW8LTjtrK
HX7xKo4EXYVjFBnZFwIDAQAB
-----END PUBLIC KEY-----</textarea><br/>
    <label for="input">Text to encrypt:</label><br/>
    <textarea id="input" name="input" type="text" rows=4 cols=70>This is a test!这是一个测试！</textarea><br/>
    <input id="testme" type="button" value="Test Me!!!" /><br/>
  </body>
</html>
